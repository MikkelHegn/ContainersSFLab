# Create a Service Fabric Mesh applciation with Visual Studio


**Goal:** The goal of this exercise is to create and deploy a brand new Mesh application from within Visual studio

## Steps

| **Step** | **Action** | **Result** |
| -------- | ---------- | ---------- |
| 1        | Open Visual Studio and select **File** > **New** > **Project...** and Search for `mesh` | You should see the New Project Window in the screenshot below         |
| 2        | In the **Name** box, type `ServiceFabricMesh1` and in the **Location** box, set the folder path of where the files for the project will be stored. Make sure that **Create directory for solution** is checked, and click **OK** to create the Service Fabric Mesh project. | ![Visual studio new Service Fabric Mesh project dialog](./visual-studio-new-project.png)            |
| 3        | The **New Service Fabric Service** dialog appears. Select the **ASP.NET Core** project type, make sure **Container OS** is set to **Windows** and click **OK** to create the ASP.NET Core project.                                                                                                        | ![Visual studio new Service Fabric Mesh project dialog](./visual-studio-new-service-fabric-service.png)                                 |
| 4        | The **New ASP.NET Core Web Application** dialog appears. Select **Web Application** and then click **OK**.                                                                                                            | ![Visual studio new ASP.NET core application](./visual-studio-new-aspnetcore-app.png)   A Docker image is automatically built and published to your local cluster as soon as your project loads. This process may take some time. You can monitor the progress of the Service Fabric tools in the **Output** window if you want by selecting the **Service Fabric Tools** item in the **Output** window dropdown. You can continue to work while the docker image is being deployed.                                                                                           |
| 5        | After the project has been created, click **F5** to debug your service locally  | A browser window will open with a sample webpage. When you're done browsing the deployed service, stop debugging your project by pressing **Shift+F5** in Visual Studio.|
| 6        | To publish your Service Fabric Mesh project to Azure, right-click on the **Service Fabric Mesh project** in Visual studio and select **Publish...**                                                                                                                                       | ![Visual studio right-click Service Fabric Mesh project](./visual-studio-right-click-publish.png)          |
 | 7        | Select your Azure account and subscription. Choose `East US` as the  **Location**. Under **Resource group**, select **\<Create New Resource Group...>**. The **Create Resource Group** dialog appears. Choose a unique name for **Resource group name** and `East US` **Location** (East US). Click **Create** to create the resource group and return to the publish dialog. |![Visual studio Service Fabric Mesh publish dialog](./visual-studio-publish-dialog.png)         ![Visual studio Service Fabric Mesh new resource group dialog](./visual-studio-publish-new-resource-group-dialog.png)|
| 8        | Back in the **Publish Service Fabric Application** dialog, under **Azure Container Registry**, select **\<Create New Container Registry...>**. In the **Create Container Registry** dialog, use a unique name for the **Container registry name**. Specify `East US` as the **Location**. Select the **Resource group** that you created in the previous step in the drop-down. Set the **SKU** to `Basic` and then click **Create** to return to the publish dialog.  | ![Visual studio Service Fabric Mesh new resource group dialog](./visual-studio-publish-new-container-registry-dialog.png)|
| 9        | In the publish dialog, click the **Publish** button to deploy your Service Fabric Mesh application to Azure.| When you publish to Azure for the first time, the docker image is pushed to the Azure Container Registry (ACR) which takes time depending on the size of the image. Subsequent publishes of the same project will be faster. You can monitor the progress of the deployment by selecting **Service Fabric Tools** in the Visual Studio **Output** window dropdown. Once the deployment has finished, the **Service Fabric Tools** output will display the IP address and port of your application in the form of a URL. <strong><br><br> Packaging Application...<br>Building Images...<br>Web1 -> C:\Code\ServiceFabricMesh1\Web1\bin\Any CPU\Release\netcoreapp2.0\Web1.dll<br>Uploading the images to Azure Container Registry...<br>Deploying application to remote endpoint...<br>The application was deployed successfully and it can be accessed at http://...<strong>|
| 10        | Open a web browser and navigate to the URL to see the website running in Azure  | ![Running Service Fabric Mesh Web application](./deployed-web-project.png)|
<!-- /////////Reference -->

### Completion
Now that you have completed the exercise, try to create another service in your application and write service to service communication on your own! 